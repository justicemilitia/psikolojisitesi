{% extends "base.html" %}

{% block title %}Randevu Detayı - Modecalm{% endblock %}

{% block content %}
<div class="flex items-center justify-center py-10 px-4 min-h-screen-minus-header-footer">
<div class="w-full max-w-4xl bg-white rounded-2xl shadow-lg p-8">
<a href="{{ url_for('user.appointments') }}" class="text-primary hover:text-red-700 font-medium transition-colors mb-6 inline-flex items-center" data-translate="back-to-appointments-btn">
<i class="ri-arrow-left-line mr-2"></i> Randevularıma Geri Dön
</a>
<h2 class="text-3xl font-bold text-gray-900 mb-6" data-translate="appointment-detail-title">Randevu Detayı</h2>

<div class="bg-gray-50 rounded-xl p-6 mb-8">
<h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center" data-translate="appointment-info-heading">
<i class="ri-calendar-check-line text-2xl text-primary mr-3"></i> Randevu Bilgileri
</h3>
<div class="space-y-4">
<div class="flex items-center">
<strong class="text-gray-700 font-semibold w-1/3" data-translate="counselor-label">Psikolog:</strong>
<div class="w-2/3 text-gray-900">
<a href="{{ url_for('psychologist.psychologist_detail', psychologist_id=appointment.psychologist_id) }}" class="text-primary hover:text-red-700 font-medium transition-colors">
{{ appointment.psychologist.full_name }}
</a>
</div>
</div>
<div class="flex items-center">
<strong class="text-gray-700 font-semibold w-1/3" data-translate="appointment-date-label">Tarih:</strong>
<div class="w-2/3 text-gray-900">
{{ appointment.appointment_date.strftime('%d-%m-%Y') }}
</div>
</div>
<div class="flex items-center">
<strong class="text-gray-700 font-semibold w-1/3" data-translate="appointment-time-label">Saat:</strong>
<div class="w-2/3 text-gray-900">
{{ appointment.appointment_time.strftime('%H:%M') }}
</div>
</div>
<div class="flex items-center">
<strong class="text-gray-700 font-semibold w-1/3" data-translate="status-label">Durum:</strong>
<div class="w-2/3">
<span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
{% if appointment.status == 'planned' %}
bg-primary/10 text-primary
{% elif appointment.status == 'completed' %}
bg-green-100 text-green-800
{% elif appointment.status == 'cancelled' %}
bg-red-100 text-red-800
{% endif %}
capitalize" data-translate="appointment-status-{{ appointment.status }}">
{{ appointment.status }}
</span>
</div>
</div>
</div>
</div>

<div class="bg-gray-50 rounded-xl p-6">
<h3 class="text-xl font-semibold text-gray-900 mb-4 flex items-center" data-translate="psychologist-info-heading">
<i class="ri-information-line text-2xl text-primary mr-3"></i> Psikolog Bilgileri
</h3>
<div class="space-y-4">
<div class="flex">
<strong class="text-gray-700 font-semibold w-1/3" data-translate="specialties-label">Uzmanlık Alanları:</strong>
<div class="w-2/3 text-gray-900">
{% for specialty in appointment.psychologist.get_specialties() %}
<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary capitalize mr-1 mb-1">
{{ specialty }}
</span>
{% endfor %}
</div>
</div>
<div>
<strong class="block text-gray-700 font-semibold mb-2" data-translate="bio-label">Biyografi:</strong>
<p class="text-gray-600">
{{ appointment.psychologist.bio }}
</p>
</div>
</div>
</div>

{% if appointment.status == 'planned' %}
<div class="mt-8 text-center">
<form action="{{ url_for('appointment.cancel_appointment', appointment_id=appointment.id) }}" method="POST">
<button type="submit" class="bg-red-500 text-white py-3 px-6 rounded-lg font-semibold hover:bg-red-600 transition-colors" onclick="return confirm('Bu randevuyu iptal etmek istediğinizden emin misiniz?')" data-translate="cancel-appointment-btn">
<i class="ri-close-circle-line mr-2"></i> Randevuyu İptal Et
</button>
</form>
</div>
{% endif %}
</div>
</div>
{% endblock %}